#include <QtTest>

#include "testutils.h"
#include "tst_transformationtests.h"
#include "tst_transformationtests_data.h"

Q_DECLARE_METATYPE(IntMatrix)
Q_DECLARE_METATYPE(StringMatrix)
Q_DECLARE_METATYPE(ConcatMode)
Q_DECLARE_METATYPE(SplitMode)

class TransformationTests : public QObject
{
    Q_OBJECT

private slots:
    // test functions
    void testIntMatrixTranspose();
    void testIntMatrixCatByRow();
    void testIntMatrixCatByColumn();
    void testIntMatrixSplitByRow();
    void testIntMatrixSplitByColumn();

    void testStringMatrixTranspose();
    void testStringMatrixCatByRow();
    void testStringMatrixCatByColumn();
    void testStringMatrixSplitByRow();
    void testStringMatrixSplitByColumn();

    // test data
    void testIntMatrixTranspose_data();
    void testIntMatrixCatByRow_data();
    void testIntMatrixCatByColumn_data();
    void testIntMatrixSplitByRow_data();
    void testIntMatrixSplitByColumn_data();

    void testStringMatrixTranspose_data();
    void testStringMatrixCatByRow_data();
    void testStringMatrixCatByColumn_data();
    void testStringMatrixSplitByRow_data();
    void testStringMatrixSplitByColumn_data();

private:
    IntMatrix mPrimaryIntMatrix;
    IntMatrix mSecondaryIntMatrix;
    StringMatrix mPrimaryStringMatrix;
    StringMatrix mSecondaryStringMatrix;
};

void TransformationTests::testIntMatrixTranspose()
{
    TEST_MATRIX_TRANSPOSE(int, mPrimaryIntMatrix, mSecondaryIntMatrix);
}

void TransformationTests::testIntMatrixCatByRow()
{
    TEST_MATRIX_CAT_BY_ROW(int);
}

void TransformationTests::testIntMatrixCatByColumn()
{
    TEST_MATRIX_CAT_BY_COLUMN(int);
}

void TransformationTests::testIntMatrixSplitByRow()
{
    TEST_MATRIX_SPLIT_BY_ROW(int);
}

void TransformationTests::testIntMatrixSplitByColumn()
{
    TEST_MATRIX_SPLIT_BY_COLUMN(int);
}

void TransformationTests::testStringMatrixTranspose()
{
    TEST_MATRIX_TRANSPOSE(std::string, mPrimaryStringMatrix, mSecondaryStringMatrix);
}

void TransformationTests::testStringMatrixCatByRow()
{
    TEST_MATRIX_CAT_BY_ROW(std::string);
}

void TransformationTests::testStringMatrixCatByColumn()
{
    TEST_MATRIX_CAT_BY_COLUMN(std::string);
}

void TransformationTests::testStringMatrixSplitByRow()
{
    TEST_MATRIX_SPLIT_BY_ROW(std::string);
}

void TransformationTests::testStringMatrixSplitByColumn()
{
    TEST_MATRIX_SPLIT_BY_COLUMN(std::string);
}

void TransformationTests::testIntMatrixTranspose_data()
{
    QTest::addColumn<IntMatrix>("initialSrcMatrix");
    QTest::addColumn<IntMatrix>("initialDestMatrix");
    QTest::addColumn<IntMatrix>("expectedDestMatrix");
    QTest::addColumn<matrix_size_t>("expectedSrcRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSrcColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestColumnCapacityOffset");
    QTest::addColumn<bool>("isTransposedToItself");

    QTest::newRow("1: same matrix") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << 3u << 3u << 3u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << true;
    QTest::newRow("2: same matrix") << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << 3u << 3u << 3u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << true;
    QTest::newRow("3: different matrixes") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 2, {7, 8, 9, 10}} << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << 2u << 3u << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << false;
    QTest::newRow("4: different matrixes") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << 2u << 3u << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << false;
    QTest::newRow("5: different matrixes") << IntMatrix{} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{} << 0u << 0u << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
    QTest::newRow("6: same matrix") << c_IntMatrix1_8x9 << c_IntMatrix1_8x9 << c_IntMatrix1_9x8 << 10u << 11u << 10u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << true;
    QTest::newRow("7: same matrix") << c_IntMatrix1_9x8 << c_IntMatrix1_9x8 << c_IntMatrix1_8x9 << 11u << 10u << 11u << 10u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << true;
    QTest::newRow("8: different matrixes") << c_IntMatrix1_8x9 << IntMatrix{5, 9, 8} << c_IntMatrix1_9x8 << 10u << 11u << 11u << 10u << matrix_opt_size_t{1} << matrix_opt_size_t{1} << matrix_opt_size_t{1} << matrix_opt_size_t{1} << false;
    QTest::newRow("9: different matrixes") << c_IntMatrix1_8x9 << IntMatrix{5, 7, 6} << c_IntMatrix1_9x8 << 10u << 11u << 11u << 10u << matrix_opt_size_t{1} << matrix_opt_size_t{1} << matrix_opt_size_t{1} << matrix_opt_size_t{1} << false;
    QTest::newRow("10: different matrixes") << c_IntMatrix1_8x9 << IntMatrix{} << c_IntMatrix1_9x8 << 10u << 11u << 11u << 10u << matrix_opt_size_t{1} << matrix_opt_size_t{1} << matrix_opt_size_t{1} << matrix_opt_size_t{1} << false;
    QTest::newRow("11: different matrixes") << IntMatrix{} << c_IntMatrix1_9x8 << IntMatrix{} << 0u << 0u << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
    QTest::newRow("12: same matrix") << IntMatrix{} << IntMatrix{} << IntMatrix{} << 0u << 0u << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << true;
    QTest::newRow("13: different matrixes") << IntMatrix{} << IntMatrix{} << IntMatrix{} << 0u << 0u << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
}

void TransformationTests::testIntMatrixCatByRow_data()
{
    QTest::addColumn<IntMatrix>("destMatrix");
    QTest::addColumn<IntMatrix>("firstSrcMatrix");
    QTest::addColumn<IntMatrix>("secondSrcMatrix");
    QTest::addColumn<ConcatMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedColumnCapacityOffset");
    QTest::addColumn<IntMatrix>("expectedDestMatrix");

    QTest::newRow("1: all different") << IntMatrix{} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}} << ConcatMode::ALL_DIFFERENT << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}};
    QTest::newRow("2: all different") << IntMatrix{2, 3, {7, 8, 9, 10, 11, 12}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}} << ConcatMode::ALL_DIFFERENT << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}};
    QTest::newRow("3: all different") << IntMatrix{4, 1, {7, 8, 9, 10}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}} << ConcatMode::ALL_DIFFERENT << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}};
    QTest::newRow("4: all different") << IntMatrix{3, 2, {7, 8, 9, 10, 11, 12}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}} << ConcatMode::ALL_DIFFERENT << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}};
    QTest::newRow("5: all different") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::ALL_DIFFERENT << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("6: destination first") << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}} << ConcatMode::DESTINATION_FIRST << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}};
    QTest::newRow("7: destination first") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::DESTINATION_FIRST << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("8: destination second") << IntMatrix{1, 2, {5, 6}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}} << ConcatMode::DESTINATION_SECOND << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}};
    QTest::newRow("9: destination second") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::DESTINATION_SECOND << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("10: destination all") << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 2, {1, 2, 3, 4}} << ConcatMode::DESTINATION_ALL << 5u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{4, 2, {1, 2, 3, 4, 1, 2, 3, 4}};
    QTest::newRow("11: destination all") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::DESTINATION_ALL << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("12: source both") << IntMatrix{} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 2, {1, 2, 3, 4}} << ConcatMode::SOURCE_BOTH << 5u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{4, 2, {1, 2, 3, 4, 1, 2, 3, 4}};
    QTest::newRow("13: source both") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::SOURCE_BOTH << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("14: all different") << IntMatrix{} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("15: all different") << IntMatrix{5, 3, 8} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("16: all different") << IntMatrix{5, 10, 1} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("17: all different") << IntMatrix{5, 9, 2} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("18: destination first") << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::DESTINATION_FIRST << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("19: destination second") << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::DESTINATION_SECOND << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("20: destination all") << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::DESTINATION_ALL << 12u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{10, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10}};
    QTest::newRow("21: source both") << IntMatrix{} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::SOURCE_BOTH << 12u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{10, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10}};
    QTest::newRow("22: source both") << IntMatrix{5, 3, 9} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::SOURCE_BOTH << 12u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{10, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10}};
    QTest::newRow("23: source both") << IntMatrix{5, 11, 1} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::SOURCE_BOTH << 12u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{10, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10}};
    QTest::newRow("24: source both") << IntMatrix{5, 10, 2} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::SOURCE_BOTH << 12u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{10, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10}};
    QTest::newRow("25: all different") << IntMatrix{} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("26: all different") << IntMatrix{5, 3, 8} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("27: all different") << IntMatrix{5, 10, 1} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("28: all different") << IntMatrix{5, 9, 2} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("29: destination first") << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::DESTINATION_FIRST << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("30: destination second") << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::DESTINATION_SECOND << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("31: destination all") << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << ConcatMode::DESTINATION_ALL << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, 2, -1, 2}};
    QTest::newRow("32: source both") << IntMatrix{} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, 2, -1, 2}};
    QTest::newRow("33: source both") << IntMatrix{5, 1, 3} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, 2, -1, 2}};
    QTest::newRow("34: source both") << IntMatrix{5, 3, 1} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, 2, -1, 2}};
    QTest::newRow("35: source both") << IntMatrix{5, 2, 2} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, 2, -1, 2}};
    QTest::newRow("36: source both") << IntMatrix{5, 1, 1} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, 2, -1, 2}};
    QTest::newRow("37: source both") << IntMatrix{5, 16, 16} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{1, 2, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, 2, -1, 2}};
    QTest::newRow("38: all different") << IntMatrix{} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("39: all different") << IntMatrix{5, 3, 8} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("40: all different") << IntMatrix{5, 10, 1} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("41: all different") << IntMatrix{5, 9, 2} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("42: destination first") << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}} << ConcatMode::DESTINATION_FIRST << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("43: destination second") << IntMatrix{1, 2, {17, -18}} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}} << ConcatMode::DESTINATION_SECOND << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("44: destination all") << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::DESTINATION_ALL << 20u << 2u << matrix_opt_size_t{2} << matrix_opt_size_t{0} << IntMatrix{16, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}};
    QTest::newRow("45: source both") << IntMatrix{} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::SOURCE_BOTH << 20u << 2u << matrix_opt_size_t{2} << matrix_opt_size_t{0} << IntMatrix{16, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}};
    QTest::newRow("46: source both") << IntMatrix{5, 3, 15} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::SOURCE_BOTH << 20u << 2u << matrix_opt_size_t{2} << matrix_opt_size_t{0} << IntMatrix{16, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}};
    QTest::newRow("47: source both") << IntMatrix{5, 17, 1} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::SOURCE_BOTH << 20u << 2u << matrix_opt_size_t{2} << matrix_opt_size_t{0} << IntMatrix{16, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}};
    QTest::newRow("48: source both") << IntMatrix{5, 16, 2} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::SOURCE_BOTH << 20u << 2u << matrix_opt_size_t{2} << matrix_opt_size_t{0} << IntMatrix{16, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}};
}

void TransformationTests::testIntMatrixCatByColumn_data()
{
    QTest::addColumn<IntMatrix>("destMatrix");
    QTest::addColumn<IntMatrix>("firstSrcMatrix");
    QTest::addColumn<IntMatrix>("secondSrcMatrix");
    QTest::addColumn<ConcatMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedColumnCapacityOffset");
    QTest::addColumn<IntMatrix>("expectedDestMatrix");

    QTest::newRow("1: all different") << IntMatrix{} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 1, {5, 6}} << ConcatMode::ALL_DIFFERENT << 2u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 3, {1, 2, 5, 3, 4, 6}};
    QTest::newRow("2: all different") << IntMatrix{3, 2, {7, 8, 9, 10, 11, 12}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 1, {5, 6}} << ConcatMode::ALL_DIFFERENT << 2u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 3, {1, 2, 5, 3, 4, 6}};
    QTest::newRow("3: all different") << IntMatrix{1, 4, {7, 8, 9, 10}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 1, {5, 6}} << ConcatMode::ALL_DIFFERENT << 2u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 3, {1, 2, 5, 3, 4, 6}};
    QTest::newRow("4: all different") << IntMatrix{2, 3, {7, 8, 9, 10, 11, 12}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 1, {5, 6}} << ConcatMode::ALL_DIFFERENT << 2u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 3, {1, 2, 5, 3, 4, 6}};
    QTest::newRow("5: all different") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::ALL_DIFFERENT << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("6: destination first") << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 1, {5, 6}} << ConcatMode::DESTINATION_FIRST << 2u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 3, {1, 2, 5, 3, 4, 6}};
    QTest::newRow("7: destination first") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::DESTINATION_FIRST << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("8: destination second") << IntMatrix{2, 1, {5, 6}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 1, {5, 6}} << ConcatMode::DESTINATION_SECOND << 2u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 3, {1, 2, 5, 3, 4, 6}};
    QTest::newRow("9: destination second") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::DESTINATION_SECOND << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("10: destination all") << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 2, {1, 2, 3, 4}} << ConcatMode::DESTINATION_ALL << 2u << 5u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 4, {1, 2, 1, 2, 3, 4, 3, 4}};
    QTest::newRow("11: destination all") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::DESTINATION_ALL << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("12: source both") << IntMatrix{} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 2, {1, 2, 3, 4}} << ConcatMode::SOURCE_BOTH << 2u << 5u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 4, {1, 2, 1, 2, 3, 4, 3, 4}};
    QTest::newRow("13: source both") << IntMatrix{} << IntMatrix{} << IntMatrix{} << ConcatMode::SOURCE_BOTH << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("14: all different") << IntMatrix{} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 4, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 11, -12, 13, -14, 6, -7, 8, -9, 10, 15, -16, 17, -18}};
    QTest::newRow("15: all different") << IntMatrix{5, 8, 3} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 4, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 11, -12, 13, -14, 6, -7, 8, -9, 10, 15, -16, 17, -18}};
    QTest::newRow("16: all different") << IntMatrix{5, 1, 10} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 4, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 11, -12, 13, -14, 6, -7, 8, -9, 10, 15, -16, 17, -18}};
    QTest::newRow("17: all different") << IntMatrix{5, 2, 9} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 4, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 11, -12, 13, -14, 6, -7, 8, -9, 10, 15, -16, 17, -18}};
    QTest::newRow("18: destination first") << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 4, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::DESTINATION_FIRST << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 11, -12, 13, -14, 6, -7, 8, -9, 10, 15, -16, 17, -18}};
    QTest::newRow("19: destination second") << IntMatrix{2, 4, {11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 4, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::DESTINATION_SECOND << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 11, -12, 13, -14, 6, -7, 8, -9, 10, 15, -16, 17, -18}};
    QTest::newRow("20: destination all") << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::DESTINATION_ALL << 2u << 12u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 10, {-1, 2, -3, 4, -5, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 6, -7, 8, -9, 10}};
    QTest::newRow("21: source both") << IntMatrix{} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::SOURCE_BOTH << 2u << 12u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 10, {-1, 2, -3, 4, -5, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 6, -7, 8, -9, 10}};
    QTest::newRow("22: source both") << IntMatrix{5, 9, 3} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::SOURCE_BOTH << 2u << 12u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 10, {-1, 2, -3, 4, -5, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 6, -7, 8, -9, 10}};
    QTest::newRow("23: source both") << IntMatrix{5, 1, 11} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::SOURCE_BOTH << 2u << 12u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 10, {-1, 2, -3, 4, -5, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 6, -7, 8, -9, 10}};
    QTest::newRow("24: source both") << IntMatrix{5, 2, 10} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << ConcatMode::SOURCE_BOTH << 2u << 12u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 10, {-1, 2, -3, 4, -5, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 6, -7, 8, -9, 10}};
    QTest::newRow("25: all different") << IntMatrix{} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 8, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, -3, 4, -5, 6, -7, 8, -9, 10, 2, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("26: all different") << IntMatrix{5, 8, 3} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 8, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, -3, 4, -5, 6, -7, 8, -9, 10, 2, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("27: all different") << IntMatrix{5, 1, 10} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 8, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, -3, 4, -5, 6, -7, 8, -9, 10, 2, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("28: all different") << IntMatrix{5, 2, 9} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 8, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, -3, 4, -5, 6, -7, 8, -9, 10, 2, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("29: destination first") << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 8, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::DESTINATION_FIRST << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, -3, 4, -5, 6, -7, 8, -9, 10, 2, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("30: destination second") << IntMatrix{2, 8, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 8, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::DESTINATION_SECOND << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, -3, 4, -5, 6, -7, 8, -9, 10, 2, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("31: destination all") << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << ConcatMode::DESTINATION_ALL << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, -1, 2, 2}};
    QTest::newRow("32: source both") << IntMatrix{} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, -1, 2, 2}};
    QTest::newRow("33: source both") << IntMatrix{5, 3, 1} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, -1, 2, 2}};
    QTest::newRow("34: source both") << IntMatrix{5, 1, 3} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, -1, 2, 2}};
    QTest::newRow("35: source both") << IntMatrix{5, 2, 2} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, -1, 2, 2}};
    QTest::newRow("36: source both") << IntMatrix{5, 1, 1} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, -1, 2, 2}};
    QTest::newRow("37: source both") << IntMatrix{5, 16, 16} << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 1, {-1, 2}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {-1, -1, 2, 2}};
    QTest::newRow("38: all different") << IntMatrix{} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 1, {17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, 17, -9, 10, 11, -12, 13, -14, 15, -16, -18}};
    QTest::newRow("39: all different") << IntMatrix{5, 8, 3} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 1, {17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, 17, -9, 10, 11, -12, 13, -14, 15, -16, -18}};
    QTest::newRow("40: all different") << IntMatrix{5, 1, 10} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 1, {17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, 17, -9, 10, 11, -12, 13, -14, 15, -16, -18}};
    QTest::newRow("41: all different") << IntMatrix{5, 2, 9} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 1, {17, -18}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, 17, -9, 10, 11, -12, 13, -14, 15, -16, -18}};
    QTest::newRow("42: destination first") << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 1, {17, -18}} << ConcatMode::DESTINATION_FIRST << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, 17, -9, 10, 11, -12, 13, -14, 15, -16, -18}};
    QTest::newRow("43: destination second") << IntMatrix{2, 1, {17, -18}} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 1, {17, -18}} << ConcatMode::DESTINATION_SECOND << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, 17, -9, 10, 11, -12, 13, -14, 15, -16, -18}};
    QTest::newRow("44: destination all") << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::DESTINATION_ALL << 2u << 20u << matrix_opt_size_t{0} << matrix_opt_size_t{2} << IntMatrix{2, 16, {-1, 2, -3, 4, -5, 6, -7, 8, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -9, 10, 11, -12, 13, -14, 15, -16}};
    QTest::newRow("45: source both") << IntMatrix{} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::SOURCE_BOTH << 2u << 20u << matrix_opt_size_t{0} << matrix_opt_size_t{2} << IntMatrix{2, 16, {-1, 2, -3, 4, -5, 6, -7, 8, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -9, 10, 11, -12, 13, -14, 15, -16}};
    QTest::newRow("46: source both") << IntMatrix{5, 15, 3} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::SOURCE_BOTH << 2u << 20u << matrix_opt_size_t{0} << matrix_opt_size_t{2} << IntMatrix{2, 16, {-1, 2, -3, 4, -5, 6, -7, 8, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -9, 10, 11, -12, 13, -14, 15, -16}};
    QTest::newRow("47: source both") << IntMatrix{5, 1, 17} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::SOURCE_BOTH << 2u << 20u << matrix_opt_size_t{0} << matrix_opt_size_t{2} << IntMatrix{2, 16, {-1, 2, -3, 4, -5, 6, -7, 8, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -9, 10, 11, -12, 13, -14, 15, -16}};
    QTest::newRow("48: source both") << IntMatrix{5, 2, 16} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << ConcatMode::SOURCE_BOTH << 2u << 20u << matrix_opt_size_t{0} << matrix_opt_size_t{2} << IntMatrix{2, 16, {-1, 2, -3, 4, -5, 6, -7, 8, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -9, 10, 11, -12, 13, -14, 15, -16}};
}

void TransformationTests::testIntMatrixSplitByRow_data()
{
    QTest::addColumn<IntMatrix>("srcMatrix");
    QTest::addColumn<IntMatrix>("firstDestMatrix");
    QTest::addColumn<IntMatrix>("secondDestMatrix");
    QTest::addColumn<matrix_size_t>("splitPosition");
    QTest::addColumn<SplitMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedFirstDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedFirstDestColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedSecondDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSecondDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedFirstDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedFirstDestColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSecondDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSecondDestColumnCapacityOffset");
    QTest::addColumn<IntMatrix>("expectedFirstDestMatrix");
    QTest::addColumn<IntMatrix>("expectedSecondDestMatrix");

    QTest::newRow("1: all different") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << IntMatrix{} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 1u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("2: all different") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{1, 2, {7, 8}} << IntMatrix{} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 1u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("3: all different") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << IntMatrix{2, 2, {9, 10, 11, 12}} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("4: all different") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{1, 2, {7, 8}} << IntMatrix{2, 2, {9, 10, 11, 12}} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("5: source first") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << 2u << SplitMode::SOURCE_FIRST << 3u << 2u << 1u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("6: source first") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 2, {9, 10, 11, 12}} << 2u << SplitMode::SOURCE_FIRST << 3u << 2u << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("7: source second") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << 2u << SplitMode::SOURCE_SECOND << 2u << 2u << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("8: source second") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{1, 2, {7, 8}} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << 2u << SplitMode::SOURCE_SECOND << 2u << 2u << 3u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("9: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{} << 5u << SplitMode::ALL_DIFFERENT << 6u << 2u << 5u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("10: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{4, 2, {1, -2, 3, -4, 5, -6, 7, -8}} << IntMatrix{} << 5u << SplitMode::ALL_DIFFERENT << 5u << 2u << 5u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("11: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{5, 2, {9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 5u << SplitMode::ALL_DIFFERENT << 6u << 2u << 6u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("12: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{4, 2, {1, -2, 3, -4, 5, -6, 7, -8}} << IntMatrix{5, 2, {9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 5u << SplitMode::ALL_DIFFERENT << 5u << 2u << 6u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("13: source first") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << 5u << SplitMode::SOURCE_FIRST << 11u << 2u << 5u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("14: source first") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{5, 2, {9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 5u << SplitMode::SOURCE_FIRST << 11u << 2u << 6u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("15: source second") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 5u << SplitMode::SOURCE_SECOND << 6u << 2u << 11u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("16: source second") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{4, 2, {1, -2, 3, -4, 5, -6, 7, -8}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 5u << SplitMode::SOURCE_SECOND << 5u << 2u << 11u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("17: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{} << 1u << SplitMode::ALL_DIFFERENT << 1u << 2u << 10u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("18: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{8, 2, {1, -2, 3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16}} << IntMatrix{} << 1u << SplitMode::ALL_DIFFERENT << 10u << 2u << 10u << 2u << matrix_opt_size_t{4} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("19: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{1, 2, {-17, 18}} << 1u << SplitMode::ALL_DIFFERENT << 1u << 2u << 10u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("20: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{8, 2, {1, -2, 3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16}} << IntMatrix{1, 2, {-17, 18}} << 1u << SplitMode::ALL_DIFFERENT << 10u << 2u << 10u << 2u << matrix_opt_size_t{4} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("21: source first") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << 1u << SplitMode::SOURCE_FIRST << 11u << 2u << 10u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("22: source first") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{1, 2, {-17, 18}} << 1u << SplitMode::SOURCE_FIRST << 11u << 2u << 10u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("23: source second") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 1u << SplitMode::SOURCE_SECOND << 1u << 2u << 11u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("24: source second") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{8, 2, {1, -2, 3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 1u << SplitMode::SOURCE_SECOND << 10u << 2u << 11u << 2u << matrix_opt_size_t{4} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("25: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{} << 8u << SplitMode::ALL_DIFFERENT << 10u << 2u << 1u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}};
    QTest::newRow("26: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{1, 2, {1, -2}} << IntMatrix{} << 8u << SplitMode::ALL_DIFFERENT << 10u << 2u << 1u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}};
    QTest::newRow("27: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{8, 2, {3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 8u << SplitMode::ALL_DIFFERENT << 10u << 2u << 10u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{4} << matrix_opt_size_t{0} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}};
    QTest::newRow("28: all different") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{1, 2, {1, -2}} << IntMatrix{8, 2, {3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 8u << SplitMode::ALL_DIFFERENT << 10u << 2u << 10u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{4} << matrix_opt_size_t{0} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}};
    QTest::newRow("29: source first") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << 8u << SplitMode::SOURCE_FIRST << 11u << 2u << 1u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}};
    QTest::newRow("30: source first") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{8, 2, {3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 8u << SplitMode::SOURCE_FIRST << 11u << 2u << 10u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{4} << matrix_opt_size_t{0} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}};
    QTest::newRow("31: source second") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 8u << SplitMode::SOURCE_SECOND << 10u << 2u << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}};
    QTest::newRow("32: source second") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{1, 2, {1, -2}} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 8u << SplitMode::SOURCE_SECOND << 10u << 2u << 11u << 2u << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}};
}

void TransformationTests::testIntMatrixSplitByColumn_data()
{
    QTest::addColumn<IntMatrix>("srcMatrix");
    QTest::addColumn<IntMatrix>("firstDestMatrix");
    QTest::addColumn<IntMatrix>("secondDestMatrix");
    QTest::addColumn<matrix_size_t>("splitPosition");
    QTest::addColumn<SplitMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedFirstDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedFirstDestColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedSecondDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSecondDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedFirstDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedFirstDestColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSecondDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSecondDestColumnCapacityOffset");
    QTest::addColumn<IntMatrix>("expectedFirstDestMatrix");
    QTest::addColumn<IntMatrix>("expectedSecondDestMatrix");

    QTest::newRow("1: all different") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << IntMatrix{} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 1u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("2: all different") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 1, {7, 8}} << IntMatrix{} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 1u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("3: all different") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << IntMatrix{2, 2, {9, 10, 11, 12}} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("4: all different") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 1, {7, 8}} << IntMatrix{2, 2, {9, 10, 11, 12}} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("5: source first") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << 2u << SplitMode::SOURCE_FIRST << 2u << 3u << 2u << 1u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("6: source first") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 2, {9, 10, 11, 12}} << 2u << SplitMode::SOURCE_FIRST << 2u << 3u << 2u << 2u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("7: source second") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << 2u << SplitMode::SOURCE_SECOND << 2u << 2u << 2u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("8: source second") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{1, 2, {7, 8}} << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << 2u << SplitMode::SOURCE_SECOND << 2u << 2u << 2u << 3u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("9: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{} << 5u << SplitMode::ALL_DIFFERENT << 2u << 6u << 2u << 5u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, 11, -12, 13, -14}} << IntMatrix{2, 4, {6, -7, 8, -9, 15, -16, 17, -18}};
    QTest::newRow("10: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 4, {1, -2, 3, -4, 5, -6, 7, -8}} << IntMatrix{} << 5u << SplitMode::ALL_DIFFERENT << 2u << 5u << 2u << 5u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, 11, -12, 13, -14}} << IntMatrix{2, 4, {6, -7, 8, -9, 15, -16, 17, -18}};
    QTest::newRow("11: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{2, 5, {9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 5u << SplitMode::ALL_DIFFERENT << 2u << 6u << 2u << 6u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, 11, -12, 13, -14}} << IntMatrix{2, 4, {6, -7, 8, -9, 15, -16, 17, -18}};
    QTest::newRow("12: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 4, {1, -2, 3, -4, 5, -6, 7, -8}} << IntMatrix{2, 5, {9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 5u << SplitMode::ALL_DIFFERENT << 2u << 5u << 2u << 6u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, 11, -12, 13, -14}} << IntMatrix{2, 4, {6, -7, 8, -9, 15, -16, 17, -18}};
    QTest::newRow("13: source first") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << 5u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 5u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, 11, -12, 13, -14}} << IntMatrix{2, 4, {6, -7, 8, -9, 15, -16, 17, -18}};
    QTest::newRow("14: source first") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 5, {9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 5u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 6u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, 11, -12, 13, -14}} << IntMatrix{2, 4, {6, -7, 8, -9, 15, -16, 17, -18}};
    QTest::newRow("15: source second") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 5u << SplitMode::SOURCE_SECOND << 2u << 6u << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, 11, -12, 13, -14}} << IntMatrix{2, 4, {6, -7, 8, -9, 15, -16, 17, -18}};
    QTest::newRow("16: source second") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 4, {1, -2, 3, -4, 5, -6, 7, -8}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 5u << SplitMode::SOURCE_SECOND << 2u << 5u << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, 11, -12, 13, -14}} << IntMatrix{2, 4, {6, -7, 8, -9, 15, -16, 17, -18}};
    QTest::newRow("17: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{} << 1u << SplitMode::ALL_DIFFERENT << 2u << 1u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("18: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 8, {1, -2, 3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16}} << IntMatrix{} << 1u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{4} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("19: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{2, 1, {-17, 18}} << 1u << SplitMode::ALL_DIFFERENT << 2u << 1u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("20: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 8, {1, -2, 3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16}} << IntMatrix{2, 1, {-17, 18}} << 1u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{4} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("21: source first") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << 1u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("22: source first") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 1, {-17, 18}} << 1u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("23: source second") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 1u << SplitMode::SOURCE_SECOND << 2u << 1u << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("24: source second") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 8, {1, -2, 3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 1u << SplitMode::SOURCE_SECOND << 2u << 10u << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{4} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("25: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{} << 8u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 1u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, 11, -12, 13, -14, 15, -16, 17}} << IntMatrix{2, 1, {-9, -18}};
    QTest::newRow("26: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 1, {1, -2}} << IntMatrix{} << 8u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 1u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, 11, -12, 13, -14, 15, -16, 17}} << IntMatrix{2, 1, {-9, -18}};
    QTest::newRow("27: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{2, 8, {3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 8u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{4} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, 11, -12, 13, -14, 15, -16, 17}} << IntMatrix{2, 1, {-9, -18}};
    QTest::newRow("28: all different") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 1, {1, -2}} << IntMatrix{2, 8, {3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 8u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{4} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, 11, -12, 13, -14, 15, -16, 17}} << IntMatrix{2, 1, {-9, -18}};
    QTest::newRow("29: source first") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << 8u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 1u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{0} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, 11, -12, 13, -14, 15, -16, 17}} << IntMatrix{2, 1, {-9, -18}};
    QTest::newRow("30: source first") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 8, {3, -4, 5, -6, 7, -8, 9, -10, -11, 12, -13, 14, -15, 16, -17, 18}} << 8u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 10u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{4} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, 11, -12, 13, -14, 15, -16, 17}} << IntMatrix{2, 1, {-9, -18}};
    QTest::newRow("31: source second") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 8u << SplitMode::SOURCE_SECOND << 2u << 10u << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, 11, -12, 13, -14, 15, -16, 17}} << IntMatrix{2, 1, {-9, -18}};
    QTest::newRow("32: source second") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << IntMatrix{2, 1, {1, -2}} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << 8u << SplitMode::SOURCE_SECOND << 2u << 10u << 2u << 11u << matrix_opt_size_t{0} << matrix_opt_size_t{1} << matrix_opt_size_t{0} << matrix_opt_size_t{1} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, 11, -12, 13, -14, 15, -16, 17}} << IntMatrix{2, 1, {-9, -18}};
}

void TransformationTests::testStringMatrixTranspose_data()
{
    QTest::addColumn<StringMatrix>("initialSrcMatrix");
    QTest::addColumn<StringMatrix>("initialDestMatrix");
    QTest::addColumn<StringMatrix>("expectedDestMatrix");
    QTest::addColumn<matrix_size_t>("expectedSrcRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSrcColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestColumnCapacityOffset");
    QTest::addColumn<bool>("isTransposedToItself");

    QTest::newRow("1: same matrix") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << 3u << 3u << 3u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("2: same matrix") << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << 3u << 3u << 3u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("3: different matrixes") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 2, {"Seventh", "Eighth", "Ninth", "Tenth"}} << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << 2u << 3u << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << false;
    QTest::newRow("4: different matrixes") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << 2u << 3u << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << false;
    QTest::newRow("5: different matrixes") << StringMatrix{} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{} << 0u << 0u << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
    QTest::newRow("6: same matrix") << c_StringMatrix1_8x9 << c_StringMatrix1_8x9 << c_StringMatrix1_9x8 << 10u << 11u << 10u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << true;
    QTest::newRow("7: same matrix") << c_StringMatrix1_9x8 << c_StringMatrix1_9x8 << c_StringMatrix1_8x9 << 11u << 10u << 11u << 10u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("8: different matrixes") << c_StringMatrix1_8x9 << StringMatrix{"5Z", 9, 8} << c_StringMatrix1_9x8 << 10u << 11u << 11u << 10u << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("9: different matrixes") << c_StringMatrix1_8x9 << StringMatrix{"5Z", 7, 6} << c_StringMatrix1_9x8 << 10u << 11u << 11u << 10u << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("10: different matrixes") << c_StringMatrix1_8x9 << StringMatrix{} << c_StringMatrix1_9x8 << 10u << 11u << 11u << 10u << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("11: different matrixes") << StringMatrix{} << c_StringMatrix1_9x8 << StringMatrix{} << 0u << 0u << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
    QTest::newRow("12: same matrix") << StringMatrix{} << StringMatrix{} << StringMatrix{} << 0u << 0u << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << true;
    QTest::newRow("13: different matrixes") << StringMatrix{} << StringMatrix{} << StringMatrix{} << 0u << 0u << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
}

void TransformationTests::testStringMatrixCatByRow_data()
{
    QTest::addColumn<StringMatrix>("destMatrix");
    QTest::addColumn<StringMatrix>("firstSrcMatrix");
    QTest::addColumn<StringMatrix>("secondSrcMatrix");
    QTest::addColumn<ConcatMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedColumnCapacityOffset");
    QTest::addColumn<StringMatrix>("expectedDestMatrix");

    QTest::newRow("1: all different") << StringMatrix{} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}} << ConcatMode::ALL_DIFFERENT << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("2: all different") << StringMatrix{2, 3, {"Seventh", "Eighth", "Ninth", "Tenth", "Eleventh", "Twelfth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}} << ConcatMode::ALL_DIFFERENT << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("3: all different") << StringMatrix{4, 1, {"Seventh", "Eighth", "Ninth", "Tenth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}} << ConcatMode::ALL_DIFFERENT << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("4: all different") << StringMatrix{3, 2, {"Seventh", "Eighth", "Ninth", "Tenth", "Eleventh", "Twelfth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}} << ConcatMode::ALL_DIFFERENT << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("5: all different") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::ALL_DIFFERENT << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("6: destination first") << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}} << ConcatMode::DESTINATION_FIRST << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("7: destination first") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::DESTINATION_FIRST << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("8: destination second") << StringMatrix{1, 2, {"Fifth", "Sixth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}} << ConcatMode::DESTINATION_SECOND << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("9: destination second") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::DESTINATION_SECOND << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("10: destination all") << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << ConcatMode::DESTINATION_ALL << 5u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{4, 2, {"First", "Second", "Third", "Fourth", "First", "Second", "Third", "Fourth"}};
    QTest::newRow("11: destination all") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::DESTINATION_ALL << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("12: source both") << StringMatrix{} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << ConcatMode::SOURCE_BOTH << 5u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{4, 2, {"First", "Second", "Third", "Fourth", "First", "Second", "Third", "Fourth"}};
    QTest::newRow("13: source both") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::SOURCE_BOTH << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("14: all different") << StringMatrix{} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("15: all different") << StringMatrix{"5Z", 3, 8} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("16: all different") << StringMatrix{"5Z", 10, 1} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("17: all different") << StringMatrix{"5Z", 9, 2} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("18: destination first") << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::DESTINATION_FIRST << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("19: destination second") << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::DESTINATION_SECOND << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("20: destination all") << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::DESTINATION_ALL << 12u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{10, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("21: source both") << StringMatrix{} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::SOURCE_BOTH << 12u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{10, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("22: source both") << StringMatrix{"5Z", 3, 9} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::SOURCE_BOTH << 12u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{10, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("23: source both") << StringMatrix{"5Z", 11, 1} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::SOURCE_BOTH << 12u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{10, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("24: source both") << StringMatrix{"5Z", 10, 2} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::SOURCE_BOTH << 12u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{10, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("25: all different") << StringMatrix{} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("26: all different") << StringMatrix{"5Z", 3, 8} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("27: all different") << StringMatrix{"5Z", 10, 1} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("28: all different") << StringMatrix{"5Z", 9, 2} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("29: destination first") << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::DESTINATION_FIRST << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("30: destination second") << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::DESTINATION_SECOND << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("31: destination all") << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << ConcatMode::DESTINATION_ALL << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "2B", "-1a", "2B"}};
    QTest::newRow("32: source both") << StringMatrix{} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "2B", "-1a", "2B"}};
    QTest::newRow("33: source both") << StringMatrix{"5Z", 1, 3} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "2B", "-1a", "2B"}};
    QTest::newRow("34: source both") << StringMatrix{"5Z", 3, 1} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "2B", "-1a", "2B"}};
    QTest::newRow("35: source both") << StringMatrix{"5Z", 2, 2} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "2B", "-1a", "2B"}};
    QTest::newRow("36: source both") << StringMatrix{"5Z", 1, 1} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "2B", "-1a", "2B"}};
    QTest::newRow("37: source both") << StringMatrix{"5Z", 16, 16} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{1, 2, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "2B", "-1a", "2B"}};
    QTest::newRow("38: all different") << StringMatrix{} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("39: all different") << StringMatrix{"5Z", 3, 8} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("40: all different") << StringMatrix{"5Z", 10, 1} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("41: all different") << StringMatrix{"5Z", 9, 2} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("42: destination first") << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}} << ConcatMode::DESTINATION_FIRST << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("43: destination second") << StringMatrix{1, 2, {"17Q", "-18r"}} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}} << ConcatMode::DESTINATION_SECOND << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("44: destination all") << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::DESTINATION_ALL << 20u << 2u << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << StringMatrix{16, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
    QTest::newRow("45: source both") << StringMatrix{} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::SOURCE_BOTH << 20u << 2u << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << StringMatrix{16, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
    QTest::newRow("46: source both") << StringMatrix{"5Z", 3, 15} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::SOURCE_BOTH << 20u << 2u << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << StringMatrix{16, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
    QTest::newRow("47: source both") << StringMatrix{"5Z", 17, 1} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::SOURCE_BOTH << 20u << 2u << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << StringMatrix{16, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
    QTest::newRow("48: source both") << StringMatrix{"5Z", 16, 2} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::SOURCE_BOTH << 20u << 2u << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << StringMatrix{16, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
}

void TransformationTests::testStringMatrixCatByColumn_data()
{
    QTest::addColumn<StringMatrix>("destMatrix");
    QTest::addColumn<StringMatrix>("firstSrcMatrix");
    QTest::addColumn<StringMatrix>("secondSrcMatrix");
    QTest::addColumn<ConcatMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedColumnCapacityOffset");
    QTest::addColumn<StringMatrix>("expectedDestMatrix");

    QTest::newRow("1: all different") << StringMatrix{} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 1, {"Fifth", "Sixth"}} << ConcatMode::ALL_DIFFERENT << 2u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 3, {"First", "Second", "Fifth", "Third", "Fourth", "Sixth"}};
    QTest::newRow("2: all different") << StringMatrix{3, 2, {"Seventh", "Eighth", "Ninth", "Tenth", "Eleventh", "Twelfth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 1, {"Fifth", "Sixth"}} << ConcatMode::ALL_DIFFERENT << 2u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 3, {"First", "Second", "Fifth", "Third", "Fourth", "Sixth"}};
    QTest::newRow("3: all different") << StringMatrix{1, 4, {"Seventh", "Eighth", "Ninth", "Tenth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 1, {"Fifth", "Sixth"}} << ConcatMode::ALL_DIFFERENT << 2u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 3, {"First", "Second", "Fifth", "Third", "Fourth", "Sixth"}};
    QTest::newRow("4: all different") << StringMatrix{2, 3, {"Seventh", "Eighth", "Ninth", "Tenth", "Eleventh", "Twelfth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 1, {"Fifth", "Sixth"}} << ConcatMode::ALL_DIFFERENT << 2u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 3, {"First", "Second", "Fifth", "Third", "Fourth", "Sixth"}};
    QTest::newRow("5: all different") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::ALL_DIFFERENT << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("6: destination first") << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 1, {"Fifth", "Sixth"}} << ConcatMode::DESTINATION_FIRST << 2u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 3, {"First", "Second", "Fifth", "Third", "Fourth", "Sixth"}};
    QTest::newRow("7: destination first") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::DESTINATION_FIRST << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("8: destination second") << StringMatrix{2, 1, {"Fifth", "Sixth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 1, {"Fifth", "Sixth"}} << ConcatMode::DESTINATION_SECOND << 2u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 3, {"First", "Second", "Fifth", "Third", "Fourth", "Sixth"}};
    QTest::newRow("9: destination second") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::DESTINATION_SECOND << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("10: destination all") << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << ConcatMode::DESTINATION_ALL << 2u << 5u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 4, {"First", "Second", "First", "Second", "Third", "Fourth", "Third", "Fourth"}};
    QTest::newRow("11: destination all") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::DESTINATION_ALL << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("12: source both") << StringMatrix{} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << ConcatMode::SOURCE_BOTH << 2u << 5u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 4, {"First", "Second", "First", "Second", "Third", "Fourth", "Third", "Fourth"}};
    QTest::newRow("13: source both") << StringMatrix{} << StringMatrix{} << StringMatrix{} << ConcatMode::SOURCE_BOTH << 0u << 0u << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("14: all different") << StringMatrix{} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 4, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "11K", "-12l", "13M", "-14n", "6F", "-7g", "8H", "-9i", "10J", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("15: all different") << StringMatrix{"5Z", 8, 3} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 4, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "11K", "-12l", "13M", "-14n", "6F", "-7g", "8H", "-9i", "10J", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("16: all different") << StringMatrix{"5Z", 1, 10} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 4, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "11K", "-12l", "13M", "-14n", "6F", "-7g", "8H", "-9i", "10J", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("17: all different") << StringMatrix{"5Z", 2, 9} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 4, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "11K", "-12l", "13M", "-14n", "6F", "-7g", "8H", "-9i", "10J", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("18: destination first") << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 4, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::DESTINATION_FIRST << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "11K", "-12l", "13M", "-14n", "6F", "-7g", "8H", "-9i", "10J", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("19: destination second") << StringMatrix{2, 4, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 4, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::DESTINATION_SECOND << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "11K", "-12l", "13M", "-14n", "6F", "-7g", "8H", "-9i", "10J", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("20: destination all") << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::DESTINATION_ALL << 2u << 12u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 10, {"-1a", "2B", "-3c", "4D", "-5e", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("21: source both") << StringMatrix{} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::SOURCE_BOTH << 2u << 12u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 10, {"-1a", "2B", "-3c", "4D", "-5e", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("22: source both") << StringMatrix{"5Z", 9, 3} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::SOURCE_BOTH << 2u << 12u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 10, {"-1a", "2B", "-3c", "4D", "-5e", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("23: source both") << StringMatrix{"5Z", 1, 11} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::SOURCE_BOTH << 2u << 12u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 10, {"-1a", "2B", "-3c", "4D", "-5e", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("24: source both") << StringMatrix{"5Z", 2, 10} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << ConcatMode::SOURCE_BOTH << 2u << 12u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 10, {"-1a", "2B", "-3c", "4D", "-5e", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("25: all different") << StringMatrix{} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 8, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "2B", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("26: all different") << StringMatrix{"5Z", 8, 3} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 8, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "2B", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("27: all different") << StringMatrix{"5Z", 1, 10} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 8, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "2B", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("28: all different") << StringMatrix{"5Z", 2, 9} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 8, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "2B", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("29: destination first") << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 8, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::DESTINATION_FIRST << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "2B", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("30: destination second") << StringMatrix{2, 8, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 8, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::DESTINATION_SECOND << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "2B", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("31: destination all") << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << ConcatMode::DESTINATION_ALL << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "-1a", "2B", "2B"}};
    QTest::newRow("32: source both") << StringMatrix{} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "-1a", "2B", "2B"}};
    QTest::newRow("33: source both") << StringMatrix{"5Z", 3, 1} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "-1a", "2B", "2B"}};
    QTest::newRow("34: source both") << StringMatrix{"5Z", 1, 3} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "-1a", "2B", "2B"}};
    QTest::newRow("35: source both") << StringMatrix{"5Z", 2, 2} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "-1a", "2B", "2B"}};
    QTest::newRow("36: source both") << StringMatrix{"5Z", 1, 1} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "-1a", "2B", "2B"}};
    QTest::newRow("37: source both") << StringMatrix{"5Z", 16, 16} << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 1, {"-1a", "2B"}} << ConcatMode::SOURCE_BOTH << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "-1a", "2B", "2B"}};
    QTest::newRow("38: all different") << StringMatrix{} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 1, {"17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "17Q", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-18r"}};
    QTest::newRow("39: all different") << StringMatrix{"5Z", 8, 3} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 1, {"17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "17Q", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-18r"}};
    QTest::newRow("40: all different") << StringMatrix{"5Z", 1, 10} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 1, {"17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "17Q", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-18r"}};
    QTest::newRow("41: all different") << StringMatrix{"5Z", 2, 9} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 1, {"17Q", "-18r"}} << ConcatMode::ALL_DIFFERENT << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "17Q", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-18r"}};
    QTest::newRow("42: destination first") << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 1, {"17Q", "-18r"}} << ConcatMode::DESTINATION_FIRST << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "17Q", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-18r"}};
    QTest::newRow("43: destination second") << StringMatrix{2, 1, {"17Q", "-18r"}} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 1, {"17Q", "-18r"}} << ConcatMode::DESTINATION_SECOND << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "17Q", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-18r"}};
    QTest::newRow("44: destination all") << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::DESTINATION_ALL << 2u << 20u << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << StringMatrix{2, 16, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
    QTest::newRow("45: source both") << StringMatrix{} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::SOURCE_BOTH << 2u << 20u << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << StringMatrix{2, 16, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
    QTest::newRow("46: source both") << StringMatrix{"5Z", 15, 3} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::SOURCE_BOTH << 2u << 20u << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << StringMatrix{2, 16, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
    QTest::newRow("47: source both") << StringMatrix{"5Z", 1, 17} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::SOURCE_BOTH << 2u << 20u << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << StringMatrix{2, 16, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
    QTest::newRow("48: source both") << StringMatrix{"5Z", 2, 16} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << ConcatMode::SOURCE_BOTH << 2u << 20u << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << StringMatrix{2, 16, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
}

void TransformationTests::testStringMatrixSplitByRow_data()
{
    QTest::addColumn<StringMatrix>("srcMatrix");
    QTest::addColumn<StringMatrix>("firstDestMatrix");
    QTest::addColumn<StringMatrix>("secondDestMatrix");
    QTest::addColumn<matrix_size_t>("splitPosition");
    QTest::addColumn<SplitMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedFirstDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedFirstDestColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedSecondDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSecondDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedFirstDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedFirstDestColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSecondDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSecondDestColumnCapacityOffset");
    QTest::addColumn<StringMatrix>("expectedFirstDestMatrix");
    QTest::addColumn<StringMatrix>("expectedSecondDestMatrix");

    QTest::newRow("1: all different") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << StringMatrix{} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 1u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("2: all different") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{1, 2, {"Seventh", "Eighth"}} << StringMatrix{} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 1u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("3: all different") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << StringMatrix{2, 2, {"Ninth", "Tenth", "Eleventh", "Twelfth"}} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("4: all different") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{1, 2, {"Seventh", "Eighth"}} << StringMatrix{2, 2, {"Ninth", "Tenth", "Eleventh", "Twelfth"}} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("5: source first") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << 2u << SplitMode::SOURCE_FIRST << 3u << 2u << 1u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("6: source first") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 2, {"Ninth", "Tenth", "Eleventh", "Twelfth"}} << 2u << SplitMode::SOURCE_FIRST << 3u << 2u << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("7: source second") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << 2u << SplitMode::SOURCE_SECOND << 2u << 2u << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("8: source second") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{1, 2, {"Seventh", "Eighth"}} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << 2u << SplitMode::SOURCE_SECOND << 2u << 2u << 3u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("9: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{} << 5u << SplitMode::ALL_DIFFERENT << 6u << 2u << 5u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("10: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{4, 2, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H"}} << StringMatrix{} << 5u << SplitMode::ALL_DIFFERENT << 5u << 2u << 5u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("11: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{5, 2, {"9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 5u << SplitMode::ALL_DIFFERENT << 6u << 2u << 6u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("12: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{4, 2, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H"}} << StringMatrix{5, 2, {"9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 5u << SplitMode::ALL_DIFFERENT << 5u << 2u << 6u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("13: source first") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << 5u << SplitMode::SOURCE_FIRST << 11u << 2u << 5u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("14: source first") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{5, 2, {"9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 5u << SplitMode::SOURCE_FIRST << 11u << 2u << 6u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("15: source second") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 5u << SplitMode::SOURCE_SECOND << 6u << 2u << 11u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("16: source second") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{4, 2, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 5u << SplitMode::SOURCE_SECOND << 5u << 2u << 11u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("17: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{} << 1u << SplitMode::ALL_DIFFERENT << 1u << 2u << 10u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("18: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{8, 2, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{} << 1u << SplitMode::ALL_DIFFERENT << 10u << 2u << 10u << 2u << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("19: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{1, 2, {"-17Q", "18r"}} << 1u << SplitMode::ALL_DIFFERENT << 1u << 2u << 10u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("20: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{8, 2, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{1, 2, {"-17Q", "18r"}} << 1u << SplitMode::ALL_DIFFERENT << 10u << 2u << 10u << 2u << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("21: source first") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << 1u << SplitMode::SOURCE_FIRST << 11u << 2u << 10u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("22: source first") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{1, 2, {"-17Q", "18r"}} << 1u << SplitMode::SOURCE_FIRST << 11u << 2u << 10u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("23: source second") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 1u << SplitMode::SOURCE_SECOND << 1u << 2u << 11u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("24: source second") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{8, 2, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 1u << SplitMode::SOURCE_SECOND << 10u << 2u << 11u << 2u << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("25: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{} << 8u << SplitMode::ALL_DIFFERENT << 10u << 2u << 1u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}};
    QTest::newRow("26: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{1, 2, {"1a", "-2B"}} << StringMatrix{} << 8u << SplitMode::ALL_DIFFERENT << 10u << 2u << 1u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}};
    QTest::newRow("27: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{8, 2, {"3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 8u << SplitMode::ALL_DIFFERENT << 10u << 2u << 10u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}};
    QTest::newRow("28: all different") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{1, 2, {"1a", "-2B"}} << StringMatrix{8, 2, {"3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 8u << SplitMode::ALL_DIFFERENT << 10u << 2u << 10u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}};
    QTest::newRow("29: source first") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << 8u << SplitMode::SOURCE_FIRST << 11u << 2u << 1u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}};
    QTest::newRow("30: source first") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{8, 2, {"3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 8u << SplitMode::SOURCE_FIRST << 11u << 2u << 10u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}};
    QTest::newRow("31: source second") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 8u << SplitMode::SOURCE_SECOND << 10u << 2u << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}};
    QTest::newRow("32: source second") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{1, 2, {"1a", "-2B"}} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 8u << SplitMode::SOURCE_SECOND << 10u << 2u << 11u << 2u << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}};
}

void TransformationTests::testStringMatrixSplitByColumn_data()
{
    QTest::addColumn<StringMatrix>("srcMatrix");
    QTest::addColumn<StringMatrix>("firstDestMatrix");
    QTest::addColumn<StringMatrix>("secondDestMatrix");
    QTest::addColumn<matrix_size_t>("splitPosition");
    QTest::addColumn<SplitMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedFirstDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedFirstDestColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedSecondDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSecondDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedFirstDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedFirstDestColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSecondDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSecondDestColumnCapacityOffset");
    QTest::addColumn<StringMatrix>("expectedFirstDestMatrix");
    QTest::addColumn<StringMatrix>("expectedSecondDestMatrix");

    QTest::newRow("1: all different") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << StringMatrix{} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 1u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("2: all different") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 1, {"Seventh", "Eighth"}} << StringMatrix{} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 1u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("3: all different") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << StringMatrix{2, 2, {"Ninth", "Tenth", "Eleventh", "Twelfth"}} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("4: all different") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 1, {"Seventh", "Eighth"}} << StringMatrix{2, 2, {"Ninth", "Tenth", "Eleventh", "Twelfth"}} << 2u << SplitMode::ALL_DIFFERENT << 2u << 2u << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("5: source first") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << 2u << SplitMode::SOURCE_FIRST << 2u << 3u << 2u << 1u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("6: source first") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 2, {"Ninth", "Tenth", "Eleventh", "Twelfth"}} << 2u << SplitMode::SOURCE_FIRST << 2u << 3u << 2u << 2u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("7: source second") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << 2u << SplitMode::SOURCE_SECOND << 2u << 2u << 2u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("8: source second") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{1, 2, {"Seventh", "Eighth"}} << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << 2u << SplitMode::SOURCE_SECOND << 2u << 2u << 2u << 3u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("9: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{} << 5u << SplitMode::ALL_DIFFERENT << 2u << 6u << 2u << 5u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "11K", "-12l", "13M", "-14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("10: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 4, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H"}} << StringMatrix{} << 5u << SplitMode::ALL_DIFFERENT << 2u << 5u << 2u << 5u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "11K", "-12l", "13M", "-14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("11: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{2, 5, {"9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 5u << SplitMode::ALL_DIFFERENT << 2u << 6u << 2u << 6u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "11K", "-12l", "13M", "-14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("12: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 4, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H"}} << StringMatrix{2, 5, {"9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 5u << SplitMode::ALL_DIFFERENT << 2u << 5u << 2u << 6u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "11K", "-12l", "13M", "-14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("13: source first") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << 5u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 5u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "11K", "-12l", "13M", "-14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("14: source first") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 5, {"9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 5u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 6u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "11K", "-12l", "13M", "-14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("15: source second") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 5u << SplitMode::SOURCE_SECOND << 2u << 6u << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "11K", "-12l", "13M", "-14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("16: source second") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 4, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 5u << SplitMode::SOURCE_SECOND << 2u << 5u << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "11K", "-12l", "13M", "-14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("17: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{} << 1u << SplitMode::ALL_DIFFERENT << 2u << 1u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("18: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 8, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{} << 1u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("19: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{2, 1, {"-17Q", "18r"}} << 1u << SplitMode::ALL_DIFFERENT << 2u << 1u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("20: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 8, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{2, 1, {"-17Q", "18r"}} << 1u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("21: source first") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << 1u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("22: source first") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 1, {"-17Q", "18r"}} << 1u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("23: source second") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 1u << SplitMode::SOURCE_SECOND << 2u << 1u << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("24: source second") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 8, {"1a", "-2B", "3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 1u << SplitMode::SOURCE_SECOND << 2u << 10u << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("25: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{} << 8u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 1u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q"}} << StringMatrix{2, 1, { "-9i", "-18r"}};
    QTest::newRow("26: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 1, {"1a", "-2B"}} << StringMatrix{} << 8u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 1u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q"}} << StringMatrix{2, 1, { "-9i", "-18r"}};
    QTest::newRow("27: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{2, 8, {"3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 8u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q"}} << StringMatrix{2, 1, { "-9i", "-18r"}};
    QTest::newRow("28: all different") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 1, {"1a", "-2B"}} << StringMatrix{2, 8, {"3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 8u << SplitMode::ALL_DIFFERENT << 2u << 10u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q"}} << StringMatrix{2, 1, { "-9i", "-18r"}};
    QTest::newRow("29: source first") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << 8u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 1u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q"}} << StringMatrix{2, 1, { "-9i", "-18r"}};
    QTest::newRow("30: source first") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 8, {"3c", "-4D", "5e", "-6F", "7g", "-8H", "9i", "-10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << 8u << SplitMode::SOURCE_FIRST << 2u << 11u << 2u << 10u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q"}} << StringMatrix{2, 1, { "-9i", "-18r"}};
    QTest::newRow("31: source second") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 8u << SplitMode::SOURCE_SECOND << 2u << 10u << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q"}} << StringMatrix{2, 1, { "-9i", "-18r"}};
    QTest::newRow("32: source second") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << StringMatrix{2, 1, {"1a", "-2B"}} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << 8u << SplitMode::SOURCE_SECOND << 2u << 10u << 2u << 11u << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q"}} << StringMatrix{2, 1, { "-9i", "-18r"}};
}

QTEST_APPLESS_MAIN(TransformationTests)

#include "tst_transformationtests.moc"
