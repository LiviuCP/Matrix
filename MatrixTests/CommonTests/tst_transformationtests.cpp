#include <QTest>

#include "testutils.h"
#include "tst_transformationtests.h"
#include "tst_transformationtests_data.h"

Q_DECLARE_METATYPE(IntMatrix)
Q_DECLARE_METATYPE(StringMatrix)
Q_DECLARE_METATYPE(ConcatMode)

class TransformationTests : public QObject
{
    Q_OBJECT

private slots:
    // test functions
    void testIntMatrixTranspose();
    void testIntMatrixCatByRow();
    void testIntMatrixCatByColumn();
    void testIntMatrixSplitByRow();
    void testIntMatrixSplitByColumn();

    void testStringMatrixTranspose();
    void testStringMatrixCatByRow();
    void testStringMatrixCatByColumn();
    void testStringMatrixSplitByRow();
    void testStringMatrixSplitByColumn();

    // test data
    void testIntMatrixTranspose_data();
    void testIntMatrixCatByRow_data();
    void testIntMatrixCatByColumn_data();
    void testIntMatrixSplitByRow_data();
    void testIntMatrixSplitByColumn_data();

    void testStringMatrixTranspose_data();
    void testStringMatrixCatByRow_data();
    void testStringMatrixCatByColumn_data();
    void testStringMatrixSplitByRow_data();
    void testStringMatrixSplitByColumn_data();

private:
    IntMatrix mPrimaryIntMatrix;
    IntMatrix mSecondaryIntMatrix;
    StringMatrix mPrimaryStringMatrix;
    StringMatrix mSecondaryStringMatrix;
};

void TransformationTests::testIntMatrixTranspose()
{
    TEST_MATRIX_TRANSPOSE(int, mPrimaryIntMatrix, mSecondaryIntMatrix);
}

void TransformationTests::testIntMatrixCatByRow()
{
    TEST_MATRIX_CAT_BY_ROW(int);
}

void TransformationTests::testIntMatrixCatByColumn()
{
    TEST_MATRIX_CAT_BY_COLUMN(int);
}

void TransformationTests::testIntMatrixSplitByRow()
{
    TEST_MATRIX_SPLIT_BY_ROW(int);
}

void TransformationTests::testIntMatrixSplitByColumn()
{
    TEST_MATRIX_SPLIT_BY_COLUMN(int);
}

void TransformationTests::testStringMatrixTranspose()
{
    TEST_MATRIX_TRANSPOSE(std::string, mPrimaryStringMatrix, mSecondaryStringMatrix);
}

void TransformationTests::testStringMatrixCatByRow()
{
    TEST_MATRIX_CAT_BY_ROW(std::string);
}

void TransformationTests::testStringMatrixCatByColumn()
{
    TEST_MATRIX_CAT_BY_COLUMN(std::string);
}

void TransformationTests::testStringMatrixSplitByRow()
{
    TEST_MATRIX_SPLIT_BY_ROW(std::string);
}

void TransformationTests::testStringMatrixSplitByColumn()
{
    TEST_MATRIX_SPLIT_BY_COLUMN(std::string);
}

void TransformationTests::testIntMatrixTranspose_data()
{
    QTest::addColumn<IntMatrix>("initialSrcMatrix");
    QTest::addColumn<IntMatrix>("initialDestMatrix");
    QTest::addColumn<IntMatrix>("expectedDestMatrix");
    QTest::addColumn<matrix_size_t>("expectedSrcRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSrcColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestColumnCapacityOffset");
    QTest::addColumn<bool>("isTransposedToItself");

    QTest::newRow("1: same matrix") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("2: same matrix") << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("3: different matrixes") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 2, {7, 8, 9, 10}} << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << false;
    QTest::newRow("4: different matrixes") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << IntMatrix{3, 2, {1, 4, 2, 5, 3, 6}} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << false;
    QTest::newRow("5: different matrixes") << IntMatrix{} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
    QTest::newRow("6: same matrix") << c_IntMatrix1_8x9 << c_IntMatrix1_8x9 << c_IntMatrix1_9x8 << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_size_t{11u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << true;
    QTest::newRow("7: same matrix") << c_IntMatrix1_9x8 << c_IntMatrix1_9x8 << c_IntMatrix1_8x9 << matrix_size_t{11u} << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("8: different matrixes") << c_IntMatrix1_8x9 << IntMatrix{{9, 8}, 5} << c_IntMatrix1_9x8 << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("9: different matrixes") << c_IntMatrix1_8x9 << IntMatrix{{7, 6}, 5} << c_IntMatrix1_9x8 << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("10: different matrixes") << c_IntMatrix1_8x9 << IntMatrix{} << c_IntMatrix1_9x8 << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("11: different matrixes") << IntMatrix{} << c_IntMatrix1_9x8 << IntMatrix{} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
    QTest::newRow("12: same matrix") << IntMatrix{} << IntMatrix{} << IntMatrix{} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << true;
    QTest::newRow("13: different matrixes") << IntMatrix{} << IntMatrix{} << IntMatrix{} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
}

void TransformationTests::testIntMatrixCatByRow_data()
{
    QTest::addColumn<IntMatrix>("destMatrix");
    QTest::addColumn<IntMatrix>("srcMatrix");
    QTest::addColumn<ConcatMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedColumnCapacityOffset");
    QTest::addColumn<IntMatrix>("expectedDestMatrix");

    QTest::newRow("1: different matrixes") << IntMatrix{} << IntMatrix{} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("2: different matrixes") << IntMatrix{1, 2, {1, 2}} << IntMatrix{2, 2, {3, 4, 5, 6}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}};
    QTest::newRow("3: different matrixes") << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}};
    QTest::newRow("4: different matrixes") << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{9u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("5: different matrixes") << IntMatrix{4, 2, {-1, 2, -3, 4, -5, 6, -7, 8}} << IntMatrix{5, 2, {-9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{9u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("6: different matrixes") << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{9u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("7: different matrixes") << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{1, 2, {17, -18}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{10u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("8: same matrix") << IntMatrix{} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("9: same matrix") << IntMatrix{1, 2, {-1, 2}} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 2, {-1, 2, -1, 2}};
    QTest::newRow("10: same matrix") << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{4u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{4, 2, {1, 2, 3, 4, 1, 2, 3, 4}};
    QTest::newRow("11: same matrix") << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{10u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{10, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10}};
    QTest::newRow("12: same matrix") << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{16u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{16, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}};
}

void TransformationTests::testIntMatrixCatByColumn_data()
{
    QTest::addColumn<IntMatrix>("destMatrix");
    QTest::addColumn<IntMatrix>("srcMatrix");
    QTest::addColumn<ConcatMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedColumnCapacityOffset");
    QTest::addColumn<IntMatrix>("expectedDestMatrix");

    QTest::newRow("1: different matrixes") << IntMatrix{} << IntMatrix{} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("2: different matrixes") << IntMatrix{2, 1, {1, 2}} << IntMatrix{2, 2, {3, 4, 5, 6}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 3, {1, 3, 4, 2, 5, 6}};
    QTest::newRow("3: different matrixes") << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{2, 1, {5, 6}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 3, {1, 2, 5, 3, 4, 6}};
    QTest::newRow("4: different matrixes") << IntMatrix{2, 1, {-1, 2}} << IntMatrix{2, 8, {-3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{9u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 9, {-1, -3, 4, -5, 6, -7, 8, -9, 10, 2, 11, -12, 13, -14, 15, -16, 17, -18}};
    QTest::newRow("5: different matrixes") << IntMatrix{2, 4, {-1, 2, -3, 4, -5, 6, -7, 8}} << IntMatrix{2, 5, {-9, 10, 11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{9u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 9, {-1, 2, -3, 4, -9, 10, 11, -12, 13, -5, 6, -7, 8, -14, 15, -16, 17, -18}};
    QTest::newRow("6: different matrixes") << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{2, 4, {11, -12, 13, -14, 15, -16, 17, -18}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{9u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 11, -12, 13, -14, 6, -7, 8, -9, 10, 15, -16, 17, -18}};
    QTest::newRow("7: different matrixes") << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{2, 1, {17, -18}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{10u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, 17, -9, 10, 11, -12, 13, -14, 15, -16, -18}};
    QTest::newRow("8: same matrix") << IntMatrix{} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << IntMatrix{};
    QTest::newRow("9: same matrix") << IntMatrix{2, 1, {-1, 2}} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 2, {-1, -1, 2, 2}};
    QTest::newRow("10: same matrix") << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 4, {1, 2, 1, 2, 3, 4, 3, 4}};
    QTest::newRow("11: same matrix") << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{10u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 10, {-1, 2, -3, 4, -5, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 6, -7, 8, -9, 10}};
    QTest::newRow("12: same matrix") << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16}} << IntMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{16u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 16, {-1, 2, -3, 4, -5, 6, -7, 8, -1, 2, -3, 4, -5, 6, -7, 8, -9, 10, 11, -12, 13, -14, 15, -16, -9, 10, 11, -12, 13, -14, 15, -16}};
}

void TransformationTests::testIntMatrixSplitByRow_data()
{
    QTest::addColumn<IntMatrix>("srcMatrix");
    QTest::addColumn<IntMatrix>("destMatrix");
    QTest::addColumn<matrix_size_t>("splitPosition");
    QTest::addColumn<matrix_size_t>("expectedSrcRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSrcColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestColumnCapacityOffset");
    QTest::addColumn<IntMatrix>("expectedSrcMatrix");
    QTest::addColumn<IntMatrix>("expectedDestMatrix");

    QTest::newRow("1: small source matrix") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("2: small source matrix") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 2, {9, 10, 11, 12}} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 2, {1, 2, 3, 4}} << IntMatrix{1, 2, {5, 6}};
    QTest::newRow("3: small source matrix") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << matrix_size_t{1u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{1, 2, {1, 2}} << IntMatrix{2, 2, {3, 4, 5, 6}};
    QTest::newRow("4: small source matrix") << IntMatrix{3, 2, {1, 2, 3, 4, 5, 6}} << IntMatrix{1, 2, {11, 12}} << matrix_size_t{1u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{1, 2, {1, 2}} << IntMatrix{2, 2, {3, 4, 5, 6}};
    QTest::newRow("5: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16}} << IntMatrix{1, 2, {-17, 18}};
    QTest::newRow("6: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{1, 2}, 20} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16}} << IntMatrix{1, 2, {-17, 18}};
    QTest::newRow("7: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 2}, 20} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16}} << IntMatrix{1, 2, {-17, 18}};
    QTest::newRow("8: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{3, 2}, 20} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16}} << IntMatrix{1, 2, {-17, 18}};
    QTest::newRow("9: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{4, 2}, 20} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16}} << IntMatrix{1, 2, {-17, 18}};
    QTest::newRow("10: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 1}, 20} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{8, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16}} << IntMatrix{1, 2, {-17, 18}};
    QTest::newRow("11: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {-11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("12: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{3, 2}, 20} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {-11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("13: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{4, 2}, 20} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {-11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("14: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{5, 2}, 20} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{6u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {-11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("15: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 4}, 20} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_size_t{5u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {-11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("16: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{3, 1}, 20} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{5, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10}} << IntMatrix{4, 2, {-11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("17: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{4, 2, {-1, 2, -3, 4, -5, 6, -7, 8}} << IntMatrix{5, 2, {-9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("18: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{3, 2}, 20} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{4, 2, {-1, 2, -3, 4, -5, 6, -7, 8}} << IntMatrix{5, 2, {-9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("19: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{4, 2}, 20} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{4, 2, {-1, 2, -3, 4, -5, 6, -7, 8}} << IntMatrix{5, 2, {-9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("20: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{5, 2}, 20} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{6u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{4, 2, {-1, 2, -3, 4, -5, 6, -7, 8}} << IntMatrix{5, 2, {-9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("21: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{6, 2}, 20} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{7u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << IntMatrix{4, 2, {-1, 2, -3, 4, -5, 6, -7, 8}} << IntMatrix{5, 2, {-9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("22: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 5}, 20} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{6u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << IntMatrix{4, 2, {-1, 2, -3, 4, -5, 6, -7, 8}} << IntMatrix{5, 2, {-9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("23: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("24: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{6, 2}, 20} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("25: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{7, 2}, 20} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("26: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{8, 2}, 20} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{10u} << matrix_size_t{2u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("27: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 8}, 20} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_size_t{10u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("28: larger source matrix") << IntMatrix{9, 2, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{9, 5}, 20} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{6u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{2u} << IntMatrix{1, 2, {-1, 2}} << IntMatrix{8, 2, {-3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}};
}

void TransformationTests::testIntMatrixSplitByColumn_data()
{
    QTest::addColumn<IntMatrix>("srcMatrix");
    QTest::addColumn<IntMatrix>("destMatrix");
    QTest::addColumn<matrix_size_t>("splitPosition");
    QTest::addColumn<matrix_size_t>("expectedSrcRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSrcColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestColumnCapacityOffset");
    QTest::addColumn<IntMatrix>("expectedSrcMatrix");
    QTest::addColumn<IntMatrix>("expectedDestMatrix");

    QTest::newRow("1: small source matrix") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("2: small source matrix") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 2, {9, 10, 11, 12}} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 2, {1, 2, 4, 5}} << IntMatrix{2, 1, {3, 6}};
    QTest::newRow("3: small source matrix") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 1, {1, 4}} << IntMatrix{2, 2, {2, 3, 5, 6}};
    QTest::newRow("4: small source matrix") << IntMatrix{2, 3, {1, 2, 3, 4, 5, 6}} << IntMatrix{2, 1, {11, 12}} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 1, {1, 4}} << IntMatrix{2, 2, {2, 3, 5, 6}};
    QTest::newRow("5: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, -11, 12, -13, 14, -15, 16, -17}} << IntMatrix{2, 1, {-9, 18}};
    QTest::newRow("6: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 1}, 20} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, -11, 12, -13, 14, -15, 16, -17}} << IntMatrix{2, 1, {-9, 18}};
    QTest::newRow("7: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 2}, 20} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, -11, 12, -13, 14, -15, 16, -17}} << IntMatrix{2, 1, {-9, 18}};
    QTest::newRow("8: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 3}, 20} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, -11, 12, -13, 14, -15, 16, -17}} << IntMatrix{2, 1, {-9, 18}};
    QTest::newRow("9: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 4}, 20} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, -11, 12, -13, 14, -15, 16, -17}} << IntMatrix{2, 1, {-9, 18}};
    QTest::newRow("10: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{1, 2}, 20} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 8, {-1, 2, -3, 4, -5, 6, -7, 8, 10, -11, 12, -13, 14, -15, 16, -17}} << IntMatrix{2, 1, {-9, 18}};
    QTest::newRow("11: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, -11, 12, -13, 14}} << IntMatrix{2, 4, {6, -7, 8, -9, -15, 16, -17, 18}};
    QTest::newRow("12: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 3}, 20} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, -11, 12, -13, 14}} << IntMatrix{2, 4, {6, -7, 8, -9, -15, 16, -17, 18}};
    QTest::newRow("13: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 4}, 20} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, -11, 12, -13, 14}} << IntMatrix{2, 4, {6, -7, 8, -9, -15, 16, -17, 18}};
    QTest::newRow("14: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 5}, 20} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{6u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, -11, 12, -13, 14}} << IntMatrix{2, 4, {6, -7, 8, -9, -15, 16, -17, 18}};
    QTest::newRow("15: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{4, 2}, 20} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{5u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, -11, 12, -13, 14}} << IntMatrix{2, 4, {6, -7, 8, -9, -15, 16, -17, 18}};
    QTest::newRow("16: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{1, 2}, 20} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 5, {-1, 2, -3, 4, -5, 10, -11, 12, -13, 14}} << IntMatrix{2, 4, {6, -7, 8, -9, -15, 16, -17, 18}};
    QTest::newRow("17: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 4, {-1, 2, -3, 4, 10, -11, 12, -13}} << IntMatrix{2, 5, {-5, 6, -7, 8, -9, 14, -15, 16, -17, 18}};
    QTest::newRow("18: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 3}, 20} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 4, {-1, 2, -3, 4, 10, -11, 12, -13}} << IntMatrix{2, 5, {-5, 6, -7, 8, -9, 14, -15, 16, -17, 18}};
    QTest::newRow("19: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 4}, 20} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 4, {-1, 2, -3, 4, 10, -11, 12, -13}} << IntMatrix{2, 5, {-5, 6, -7, 8, -9, 14, -15, 16, -17, 18}};
    QTest::newRow("20: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 5}, 20} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{6u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 4, {-1, 2, -3, 4, 10, -11, 12, -13}} << IntMatrix{2, 5, {-5, 6, -7, 8, -9, 14, -15, 16, -17, 18}};
    QTest::newRow("21: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 6}, 20} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{7u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << IntMatrix{2, 4, {-1, 2, -3, 4, 10, -11, 12, -13}} << IntMatrix{2, 5, {-5, 6, -7, 8, -9, 14, -15, 16, -17, 18}};
    QTest::newRow("22: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{5, 2}, 20} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{6u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << IntMatrix{2, 4, {-1, 2, -3, 4, 10, -11, 12, -13}} << IntMatrix{2, 5, {-5, 6, -7, 8, -9, 14, -15, 16, -17, 18}};
    QTest::newRow("23: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("24: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 6}, 20} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("25: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 7}, 20} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("26: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{2, 8}, 20} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{10u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("27: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{8, 2}, 20} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_size_t{8u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, -11, 12, -13, 14, -15, 16, -17, 18}};
    QTest::newRow("28: larger source matrix") << IntMatrix{2, 9, {-1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16, -17, 18}} << IntMatrix{{5, 9}, 20} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{6u} << matrix_size_t{11u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{2u} << matrix_opt_size_t{1u} << IntMatrix{2, 1, {-1, 10}} << IntMatrix{2, 8, {2, -3, 4, -5, 6, -7, 8, -9, -11, 12, -13, 14, -15, 16, -17, 18}};
}

void TransformationTests::testStringMatrixTranspose_data()
{
    QTest::addColumn<StringMatrix>("initialSrcMatrix");
    QTest::addColumn<StringMatrix>("initialDestMatrix");
    QTest::addColumn<StringMatrix>("expectedDestMatrix");
    QTest::addColumn<matrix_size_t>("expectedSrcRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSrcColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestColumnCapacityOffset");
    QTest::addColumn<bool>("isTransposedToItself");

    QTest::newRow("1: same matrix") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("2: same matrix") << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("3: different matrixes") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 2, {"Seventh", "Eighth", "Ninth", "Tenth"}} << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << false;
    QTest::newRow("4: different matrixes") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << StringMatrix{3, 2, {"First", "Fourth", "Second", "Fifth", "Third", "Sixth"}} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << false;
    QTest::newRow("5: different matrixes") << StringMatrix{} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
    QTest::newRow("6: same matrix") << c_StringMatrix1_8x9 << c_StringMatrix1_8x9 << c_StringMatrix1_9x8 << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_size_t{11u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << true;
    QTest::newRow("7: same matrix") << c_StringMatrix1_9x8 << c_StringMatrix1_9x8 << c_StringMatrix1_8x9 << matrix_size_t{11u} << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << true;
    QTest::newRow("8: different matrixes") << c_StringMatrix1_8x9 << StringMatrix{{9, 8}, "5Z"} << c_StringMatrix1_9x8 << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("9: different matrixes") << c_StringMatrix1_8x9 << StringMatrix{{7, 6}, "5Z"} << c_StringMatrix1_9x8 << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("10: different matrixes") << c_StringMatrix1_8x9 << StringMatrix{} << c_StringMatrix1_9x8 << matrix_size_t{10u} << matrix_size_t{11u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << false;
    QTest::newRow("11: different matrixes") << StringMatrix{} << c_StringMatrix1_9x8 << StringMatrix{} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
    QTest::newRow("12: same matrix") << StringMatrix{} << StringMatrix{} << StringMatrix{} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << true;
    QTest::newRow("13: different matrixes") << StringMatrix{} << StringMatrix{} << StringMatrix{} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << matrix_opt_size_t{} << false;
}

void TransformationTests::testStringMatrixCatByRow_data()
{
    QTest::addColumn<StringMatrix>("destMatrix");
    QTest::addColumn<StringMatrix>("srcMatrix");
    QTest::addColumn<ConcatMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedColumnCapacityOffset");
    QTest::addColumn<StringMatrix>("expectedDestMatrix");

    QTest::newRow("1: different matrixes") << StringMatrix{} << StringMatrix{} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("2: different matrixes") << StringMatrix{1, 2, {"First", "Second"}} << StringMatrix{2, 2, {"Third", "Fourth", "Fifth", "Sixth"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("3: different matrixes") << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("4: different matrixes") << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{9u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("5: different matrixes") << StringMatrix{4, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H"}} << StringMatrix{5, 2, {"-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{9u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("6: different matrixes") << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{9u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("7: different matrixes") << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{1, 2, {"17Q", "-18r"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{10u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("8: same matrix") << StringMatrix{} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("9: same matrix") << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "2B", "-1a", "2B"}};
    QTest::newRow("10: same matrix") << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{4u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{4, 2, {"First", "Second", "Third", "Fourth", "First", "Second", "Third", "Fourth"}};
    QTest::newRow("11: same matrix") << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{10u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{10, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("12: same matrix") << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{16u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{16, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
}

void TransformationTests::testStringMatrixCatByColumn_data()
{
    QTest::addColumn<StringMatrix>("destMatrix");
    QTest::addColumn<StringMatrix>("srcMatrix");
    QTest::addColumn<ConcatMode>("mode");
    QTest::addColumn<matrix_size_t>("expectedRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedColumnCapacityOffset");
    QTest::addColumn<StringMatrix>("expectedDestMatrix");

    QTest::newRow("1: different matrixes") << StringMatrix{} << StringMatrix{} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("2: different matrixes") << StringMatrix{2, 1, {"First", "Second"}} << StringMatrix{2, 2, {"Third", "Fourth", "Fifth", "Sixth"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 3, {"First", "Third", "Fourth", "Second", "Fifth", "Sixth"}};
    QTest::newRow("3: different matrixes") << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{2, 1, {"Fifth", "Sixth"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 3, {"First", "Second", "Fifth", "Third", "Fourth", "Sixth"}};
    QTest::newRow("4: different matrixes") << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{2, 8, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{9u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 9, {"-1a", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "2B", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("5: different matrixes") << StringMatrix{2, 4, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H"}} << StringMatrix{2, 5, {"-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{9u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-9i", "10J", "11K", "-12l", "13M", "-5e", "6F", "-7g", "8H", "-14n", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("6: different matrixes") << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{2, 4, {"11K", "-12l", "13M", "-14n", "15O", "-16p", "17Q", "-18r"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{9u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "11K", "-12l", "13M", "-14n", "6F", "-7g", "8H", "-9i", "10J", "15O", "-16p", "17Q", "-18r"}};
    QTest::newRow("7: different matrixes") << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{2, 1, {"17Q", "-18r"}} << ConcatMode::SOURCE_TO_DESTINATION << matrix_size_t{2u} << matrix_size_t{10u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "17Q", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-18r"}};
    QTest::newRow("8: same matrix") << StringMatrix{} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{0u} << matrix_size_t{0u} << matrix_opt_size_t{} << matrix_opt_size_t{} << StringMatrix{};
    QTest::newRow("9: same matrix") << StringMatrix{2, 1, {"-1a", "2B"}} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"-1a", "-1a", "2B", "2B"}};
    QTest::newRow("10: same matrix") << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 4, {"First", "Second", "First", "Second", "Third", "Fourth", "Third", "Fourth"}};
    QTest::newRow("11: same matrix") << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{10u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 10, {"-1a", "2B", "-3c", "4D", "-5e", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "6F", "-7g", "8H", "-9i", "10J"}};
    QTest::newRow("12: same matrix") << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}} << StringMatrix{} << ConcatMode::TO_ITSELF << matrix_size_t{2u} << matrix_size_t{16u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 16, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p", "-9i", "10J", "11K", "-12l", "13M", "-14n", "15O", "-16p"}};
}

void TransformationTests::testStringMatrixSplitByRow_data()
{
    QTest::addColumn<StringMatrix>("srcMatrix");
    QTest::addColumn<StringMatrix>("destMatrix");
    QTest::addColumn<matrix_size_t>("splitPosition");
    QTest::addColumn<matrix_size_t>("expectedSrcRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSrcColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestColumnCapacityOffset");
    QTest::addColumn<StringMatrix>("expectedSrcMatrix");
    QTest::addColumn<StringMatrix>("expectedDestMatrix");

    QTest::newRow("1: small source matrix") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("2: small source matrix") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 2, {"Ninth", "Tenth", "Eleventh", "Twelfth"}} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Third", "Fourth"}} << StringMatrix{1, 2, {"Fifth", "Sixth"}};
    QTest::newRow("3: small source matrix") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << matrix_size_t{1u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"First", "Second"}} << StringMatrix{2, 2, {"Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("4: small source matrix") << StringMatrix{3, 2, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{1, 2, {"Eleventh", "Twelfth"}} << matrix_size_t{1u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"First", "Second"}} << StringMatrix{2, 2, {"Third", "Fourth", "Fifth", "Sixth"}};
    QTest::newRow("5: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{1, 2, {"-17Q", "18r"}};
    QTest::newRow("6: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{1, 2}, "20Z"} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{1, 2, {"-17Q", "18r"}};
    QTest::newRow("7: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 2}, "20Z"} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{1, 2, {"-17Q", "18r"}};
    QTest::newRow("8: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{3, 2}, "20Z"} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{1, 2, {"-17Q", "18r"}};
    QTest::newRow("9: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{4, 2}, "20Z"} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{1, 2, {"-17Q", "18r"}};
    QTest::newRow("10: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 1}, "20Z"} << matrix_size_t{8u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{8, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p"}} << StringMatrix{1, 2, {"-17Q", "18r"}};
    QTest::newRow("11: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("12: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{3, 2}, "20Z"} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("13: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{4, 2}, "20Z"} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("14: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{5, 2}, "20Z"} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{6u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("15: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 4}, "20Z"} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_size_t{5u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("16: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{3, 1}, "20Z"} << matrix_size_t{5u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{5, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J"}} << StringMatrix{4, 2, {"-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("17: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{4, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H"}} << StringMatrix{5, 2, {"-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("18: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{3, 2}, "20Z"} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{4, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H"}} << StringMatrix{5, 2, {"-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("19: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{4, 2}, "20Z"} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{4, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H"}} << StringMatrix{5, 2, {"-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("20: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{5, 2}, "20Z"} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{6u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{4, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H"}} << StringMatrix{5, 2, {"-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("21: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{6, 2}, "20Z"} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{7u} << matrix_size_t{2u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{4, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H"}} << StringMatrix{5, 2, {"-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("22: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 5}, "20Z"} << matrix_size_t{4u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_size_t{6u} << matrix_opt_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << StringMatrix{4, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H"}} << StringMatrix{5, 2, {"-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("23: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("24: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{6, 2}, "20Z"} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("25: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{7, 2}, "20Z"} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("26: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{8, 2}, "20Z"} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{10u} << matrix_size_t{2u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("27: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 8}, "20Z"} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_size_t{10u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{4u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("28: larger source matrix") << StringMatrix{9, 2, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{9, 5}, "20Z"} << matrix_size_t{1u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{6u} << matrix_opt_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{2u} << StringMatrix{1, 2, {"-1a", "2B"}} << StringMatrix{8, 2, {"-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
}

void TransformationTests::testStringMatrixSplitByColumn_data()
{
    QTest::addColumn<StringMatrix>("srcMatrix");
    QTest::addColumn<StringMatrix>("destMatrix");
    QTest::addColumn<matrix_size_t>("splitPosition");
    QTest::addColumn<matrix_size_t>("expectedSrcRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedSrcColumnCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestRowCapacity");
    QTest::addColumn<matrix_size_t>("expectedDestColumnCapacity");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedSrcColumnCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestRowCapacityOffset");
    QTest::addColumn<matrix_opt_size_t>("expectedDestColumnCapacityOffset");
    QTest::addColumn<StringMatrix>("expectedSrcMatrix");
    QTest::addColumn<StringMatrix>("expectedDestMatrix");

    QTest::newRow("1: small source matrix") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("2: small source matrix") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 2, {"Ninth", "Tenth", "Eleventh", "Twelfth"}} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 2, {"First", "Second", "Fourth", "Fifth"}} << StringMatrix{2, 1, {"Third", "Sixth"}};
    QTest::newRow("3: small source matrix") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 1, {"First", "Fourth"}} << StringMatrix{2, 2, {"Second", "Third", "Fifth", "Sixth"}};
    QTest::newRow("4: small source matrix") << StringMatrix{2, 3, {"First", "Second", "Third", "Fourth", "Fifth", "Sixth"}} << StringMatrix{2, 1, {"Eleventh", "Twelfth"}} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 1, {"First", "Fourth"}} << StringMatrix{2, 2, {"Second", "Third", "Fifth", "Sixth"}};
    QTest::newRow("5: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q"}} << StringMatrix{2, 1, {"-9i", "18r"}};
    QTest::newRow("6: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 1}, "20Z"} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q"}} << StringMatrix{2, 1, {"-9i", "18r"}};
    QTest::newRow("7: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 2}, "20Z"} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q"}} << StringMatrix{2, 1, {"-9i", "18r"}};
    QTest::newRow("8: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 3}, "20Z"} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{3u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q"}} << StringMatrix{2, 1, {"-9i", "18r"}};
    QTest::newRow("9: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 4}, "20Z"} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{2u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q"}} << StringMatrix{2, 1, {"-9i", "18r"}};
    QTest::newRow("10: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{1, 2}, "20Z"} << matrix_size_t{8u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{2u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 8, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q"}} << StringMatrix{2, 1, {"-9i", "18r"}};
    QTest::newRow("11: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "-11K", "12l", "-13M", "14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("12: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 3}, "20Z"} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "-11K", "12l", "-13M", "14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("13: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 4}, "20Z"} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "-11K", "12l", "-13M", "14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("14: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 5}, "20Z"} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{6u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "-11K", "12l", "-13M", "14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("15: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{4, 2}, "20Z"} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{5u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "-11K", "12l", "-13M", "14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("16: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{1, 2}, "20Z"} << matrix_size_t{5u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{4u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 5, {"-1a", "2B", "-3c", "4D", "-5e", "10J", "-11K", "12l", "-13M", "14n"}} << StringMatrix{2, 4, {"6F", "-7g", "8H", "-9i", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("17: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 4, {"-1a", "2B", "-3c", "4D", "10J", "-11K", "12l", "-13M"}} << StringMatrix{2, 5, {"-5e", "6F", "-7g", "8H", "-9i", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("18: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 3}, "20Z"} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 4, {"-1a", "2B", "-3c", "4D", "10J", "-11K", "12l", "-13M"}} << StringMatrix{2, 5, {"-5e", "6F", "-7g", "8H", "-9i", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("19: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 4}, "20Z"} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 4, {"-1a", "2B", "-3c", "4D", "10J", "-11K", "12l", "-13M"}} << StringMatrix{2, 5, {"-5e", "6F", "-7g", "8H", "-9i", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("20: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 5}, "20Z"} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{6u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 4, {"-1a", "2B", "-3c", "4D", "10J", "-11K", "12l", "-13M"}} << StringMatrix{2, 5, {"-5e", "6F", "-7g", "8H", "-9i", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("21: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 6}, "20Z"} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{7u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 4, {"-1a", "2B", "-3c", "4D", "10J", "-11K", "12l", "-13M"}} << StringMatrix{2, 5, {"-5e", "6F", "-7g", "8H", "-9i", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("22: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{5, 2}, "20Z"} << matrix_size_t{4u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{6u} << matrix_size_t{5u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{2u} << matrix_opt_size_t{0u} << StringMatrix{2, 4, {"-1a", "2B", "-3c", "4D", "10J", "-11K", "12l", "-13M"}} << StringMatrix{2, 5, {"-5e", "6F", "-7g", "8H", "-9i", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("23: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("24: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 6}, "20Z"} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("25: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 7}, "20Z"} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{8u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{0u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("26: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{2, 8}, "20Z"} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{2u} << matrix_size_t{10u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("27: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{8, 2}, "20Z"} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{10u} << matrix_size_t{8u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{4u} << matrix_opt_size_t{0u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
    QTest::newRow("28: larger source matrix") << StringMatrix{2, 9, {"-1a", "2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "10J", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}} << StringMatrix{{5, 9}, "20Z"} << matrix_size_t{1u} << matrix_size_t{2u} << matrix_size_t{11u} << matrix_size_t{6u} << matrix_size_t{11u} << matrix_opt_size_t{0u} << matrix_opt_size_t{1u} << matrix_opt_size_t{2u} << matrix_opt_size_t{1u} << StringMatrix{2, 1, {"-1a", "10J"}} << StringMatrix{2, 8, {"2B", "-3c", "4D", "-5e", "6F", "-7g", "8H", "-9i", "-11K", "12l", "-13M", "14n", "-15O", "16p", "-17Q", "18r"}};
}

QTEST_APPLESS_MAIN(TransformationTests)

#include "tst_transformationtests.moc"
